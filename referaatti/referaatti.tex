\documentclass[finnish]{../tktltiki2}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{microtype}
\usepackage{amsfonts,amsmath,amssymb,amsthm,booktabs,color,enumitem,graphicx}
\usepackage[pdftex,hidelinks]{hyperref}

% Automatically set the PDF metadata fields
\makeatletter
\AtBeginDocument{\hypersetup{pdftitle = {\@title}, pdfauthor = {\@author}}}
\makeatother

% --- Language-related settings ---
%
% these should be modified according to your language

% babelbib for non-english bibliography using bibtex
\usepackage[fixlanguage]{babelbib}
\selectbiblanguage{finnish}

% add bibliography to the table of contents
\usepackage[nottoc]{tocbibind}
% tocbibind renames the bibliography, use the following to change it back
\settocbibname{Lähteet}

% --- Theorem environment definitions ---

\newtheorem{lau}{Lause}
\newtheorem{lem}[lau]{Lemma}
\newtheorem{kor}[lau]{Korollaari}

\theoremstyle{definition}
\newtheorem{maar}[lau]{Määritelmä}
\newtheorem{ong}{Ongelma}
\newtheorem{alg}[lau]{Algoritmi}
\newtheorem{esim}[lau]{Esimerkki}

\theoremstyle{remark}
\newtheorem*{huom}{Huomautus}


% --- tktltiki2 options ---
\title{Tiivistelmä}
\author{Jarmo Isotalo}
\date{\today}
\level{Tiivistelmä}
\abstract{Tiivistelmä}

% The following can be used to specify keywords and classification of the paper:

%\keywords{avainsana 1, avainsana 2, avainsana 3}

\begin{document}

% --- Front matter ---

\frontmatter      % roman page numbering for front matter

\maketitle        % title page

% --- Main matter ---

\mainmatter
\section{Tiivistelmä - Samankaltaisuus ohjelmissa}

Samankaltaisuuden mittaamisella on useita käyttötarkoituksia. Sitä hyödynnetään niin koodia käännettäessä koodin pakkaukkaukseen, toistuvat kohdat koodista voidaan optimoida, refaktoroinnin tarpeen löytämiseen, voiko samankaltaisen koodin eriyttää omaan metodiin ja tunnistamaan luvatta kopioitu koodi, niin plagiarismi kuin käyttöoikeus epäilyissä.
% ~\cite{Walenstein_similarityin}
Artikkelissa samankaltaisuutta mitataan koodin ulkoasun ja toiminnallisuuden perusteella. Artikkelissa samankaltaisuuden vertailu jaetaan kahteen luokkaan~\cite{Walenstein_similarityin}: ulkoasulliseen (representational) sekä semanttiseen (semantic) ja toiminnalliseen (behavioral). 

Artikkelin mukaan samankaltaisuuden määritelmä on moniselitteinen. Samankaltaisuus tarkoittaa niin sitä, että verrattavat asiat ovat samat, kuin että varrattavissa asioissa on joitain yhteisiä piirteitä. Esimerkiksi kahta sinistä kolmiota voidaan pitää samankaltaisina, koska molemmat ovat sinisiä ja koska molemmat ovat kolmioita. Tämän vuoksi artikkelissa korostetaan samankaltaisuude tyypin määrittäistä.

\begin{itemize}
\item{Ulkoasullisessa (representational)}
samankaltaisuudessa käsitellään koodia yksittäisinä merkkeinä, jotka muodostavat monimuotoisemman rakenteen. Tässä oleellista on koodin tekstintekstuaalinen ulkoasu, koodin syntaksi sekä visuaalinen rakenne.

Ulkoasullisen samankaltaisuuden vertailuun artikkeli esittää kolme vertailutapaa: tekstuaalinen vertailu, ominaisuuspohjainen vertailu sekä Shannonin informaatioteoria.

Tekstuaalisessa vertailussa samankaltaisuutta verrataan laskemalla eri metriikoita käyttämällä koodille samankaltaisuusarvo. Artikkelin mukaan sopivia metriikoita ovat Levenshtein distance, jossa lasketaan paljonko toista koodia tulee muuttaa kahden samaksi saamisessa sekä longest common sequence, jossa verrattavista koodeista haetaan pisin yhteinen suoritusjakso.

Ominaisuuspohjaisessa vertailussa vertailussa huomioidaan kaikki aiemmin mainitut samankaltaisuuden vertailuun käytetyy keinot. Sekä huomioidaan kaikki koodin ominaisuudet, joita ovat muunmuassa muuttujien sekä metodien nimet.

Shannonin informaatioteoriassa lasketaan, paljonko kahden koodin välillä tulee jakaa tietoa, jotta koodit olisivat täysin samankaltaiset. Mitä vähemmän muutoksia tarvitaan, sitä samankaltaisempia ne ovat.

\item{Semanttinen (semantic) ja toiminnallinen (behavioral) }
samankaltaisuus eivät huomioi koodin tekstuaalista sisältöä, muuttujen ja metodien nimiä, sisennystä yms. vaan ne keskittyvät koodin rakenteeseen ja toimintaan. Koodia verrataan yksittäisen komennon, lohkon tai luokan tasolla, sillä muun kokoisten osien vertailu ei kannata, sillä silloin koodi ei sisällä järkevää semantiikkaa.

Artikkelin mukaan intutitiivisiä tapoja verrata kahden koodin semanttista samankaltaisuutta ei ole, vaan se esittää, että semanttinen samankaltaisuus muutetaan ensin helpommin vertailtavaan muotoon.

Artikkeli mainitsee kaksi esitysmuotoa semanttisen samankaltaisuuden vertaamiseen: funktionaalinen (functional) samankaltaisuuden sekä suorituspolkujen (trace) samankaltaisuuden.

%todo?
Funktionaalinen samankaltaisuus mittaa koodin toteuttamia funktioita; jos koodit toteuttavat saman funktion, ovat ne silloin semanttisesti samankaltaisia.
Funktionaalista samankaltaisuutta määritettäessä tulee kuitenkin vastata kysymykseen; mikä tekee kahdesta funktiosta samankaltaisen. Artikkelissa päädyttiin vertailemaan funktion palautusarvoja eri syötteillä.

Suorituksen samankaltaisuus mittaa suoritusta matalalla tasolla, esimerkiksi javan bytecodena tai assemblynä. Samankaltaisuus ohjelman suorituksessa kuvaa artikkelin mukaan myös samankaltaisuutta ohjelman rakenteessa.

Artikkeli esittelee myös muutaman tavan verrata semanttista ja toiminnallista samankaltaisuutta: suorituspolun (execution curve) samankaltaisuus, syöte paluuarvo (input/output), semanttinen etäisyys sekä abstraktio etäisyys (abstraction equivalence distance).

Semanttinen etäisyys mittaa kustannusta muuttaa koodi toiseksi. Artikkeli käyttää tässä levenshteinin etäisyyttä (levenhstein distance) kustannuksen mittaamiseen.

Abstraktioetäisyyden mittaamisessa lasketaan paljonko kahta koodia tulee abstraktoida, poistamalla vähiten merkitsevät osat koodista, kunnes kaksi koodia ovat samat. Artikkelin mukaan tätä menetelmää käytetään oikeasti oikeustapauksissa verrattaessa koodija tekijänoikeusrikkomusepäilyissä.


%%kesken


 %??????????????? samankaltaisuutta mitataan suorituspolkujen samankaltaisuudella (execution curve similarity), syöte paluuarvo (input/output) yhtäläisyydellä, semanttisella etäisyydellä (semantic distance) sekä abstraktioetäisyydellä (abstraction equivalence distance).


%wtf
%Syöte paluuarvo vertailissa verrataan funktion paluuarvojen samankaltaisuutta. Mikäli verrattavat funktiot palauttavat samoilla syötteillä saman tuloksen, ovat funktiot samankaltaisia.

%Semanttista etäisyytta verrattaessa lasketaan kustannus, paljonko muutoksia verrattavien koodien muuttaminen samoiksi vaatii. Tällainen vertailualgoritmi on Levenshtein distance.

%Abstraktioetäisyydellä verrattaessa lasketaan kustannus, paljonko verrattavia koodeja tulee abstraktida, eli poistaa epäoleellisia piirteitä koodista, kunnes koodit ovat samat.
\end{itemize}




% --- References ---
%
% bibtex is used to generate the bibliography. The babplain style
% will generate numeric references (e.g. [1]) appropriate for theoretical
% computer science. If you need alphanumeric references (e.g [Tur90]), use
%
% \bibliographystyle{babalpha-lf}
%
% instead.

\bibliographystyle{babplain-lf}
\bibliography{../lahteet}


% --- Appendices ---

% uncomment the following

% \newpage
% \appendix
%
% \section{Esimerkkiliite}

\end{document}